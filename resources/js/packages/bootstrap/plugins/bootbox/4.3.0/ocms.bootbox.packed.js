(function(a,b){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],b)}else if(typeof exports==="object"){module.exports=b(require("jquery"))}else{a.bootbox=b(a.jQuery)}}(this,function init($,n){"use strict";var o={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'>"+"<div class='modal-dialog'>"+"<div class='modal-content'>"+"<div class='modal-body'><div class='bootbox-body'></div></div>"+"</div>"+"</div>"+"</div>",header:"<div class='modal-header'>"+"<h4 class='modal-title'></h4>"+"</div>",footer:"<div class='modal-footer'><div class='btn-group'></div></div>",closeButton:'<i class="icon icon-ocms-close btn-modal-close ttb bootbox-close-button " data-dismiss="modal" title="" data-original-title="Close this dialog"></i>',form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}};var p={locale:"en",backdrop:true,animate:true,className:null,closeButton:true,show:true,container:"body"};var q={};function _t(a){var b=r[p.locale];return b?b[a]:r.en[a]}function processCallback(e,a,b){e.stopPropagation();e.preventDefault();var c=$.isFunction(b)&&b(e)===false;if(!c){a.modal("hide")}}function getKeyLength(a){var k,t=0;for(k in a){t++}return t}function each(c,d){var e=0;$.each(c,function(a,b){d(a,b,e++)})}function sanitize(d){var e;var f;if(typeof d!=="object"){throw new Error("Please supply an object of options");}if(!d.message){throw new Error("Please specify a message");}d=$.extend({},p,d);if(!d.buttons){d.buttons={}}d.backdrop=d.backdrop?"static":false;e=d.buttons;f=getKeyLength(e);each(e,function(a,b,c){if($.isFunction(b)){b=e[a]={callback:b}}if(typeof(b||undefined)!=="object"){throw new Error("button with key "+a+" must be an object");}if(!b.label){b.label=a}if(!b.className){if(f<=2&&c===f-1){b.className="btn-primary"}else{b.className="btn-primary"}}});return d}function mapArguments(a,b){var c=a.length;var d={};if(c<1||c>2){throw new Error("Invalid argument length");}if(c===2||typeof a[0]==="string"){d[b[0]]=a[0];d[b[1]]=a[1]}else{d=a[0]}return d}function mergeArguments(a,b,c){return $.extend(true,{},a,mapArguments(b,c))}function mergeDialogOptions(a,b,c,d){var e={className:"bootbox-"+a,buttons:createLabels.apply(null,b)};return validateButtons(mergeArguments(e,d,c),b)}function createLabels(){var a={};for(var i=0,j=arguments.length;i<j;i++){var b=arguments[i];var c=b.toLowerCase();var d=b.toUpperCase();a[c]={label:_t(d)}}return a}function validateButtons(c,d){var e={};each(d,function(a,b){e[b]=true});each(c.buttons,function(a){if(e[a]===n){throw new Error("button key "+a+" is not allowed (options are "+d.join("\n")+")");}});return c}q.alert=function(){var a;a=mergeDialogOptions("alert",["ok"],["message","callback"],arguments);if(a.callback&&!$.isFunction(a.callback)){throw new Error("alert requires callback property to be a function when provided");}a.buttons.ok.callback=a.onEscape=function(){if($.isFunction(a.callback)){return a.callback()}return true};return q.dialog(a)};q.confirm=function(){var a;a=mergeDialogOptions("confirm",["cancel","confirm"],["message","callback"],arguments);a.buttons.cancel.callback=a.onEscape=function(){return a.callback(false)};a.buttons.confirm.callback=function(){return a.callback(true)};if(!$.isFunction(a.callback)){throw new Error("confirm requires a callback");}return q.dialog(a)};q.prompt=function(){var d;var f;var g;var h;var i;var j;var k;h=$(o.form);f={className:"bootbox-prompt",buttons:createLabels("cancel","confirm"),value:"",inputType:"text"};d=validateButtons(mergeArguments(f,arguments,["title","callback"]),["cancel","confirm"]);j=(d.show===n)?true:d.show;d.message=h;d.buttons.cancel.callback=d.onEscape=function(){return d.callback(null)};d.buttons.confirm.callback=function(){var b;switch(d.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":b=i.val();break;case"checkbox":var c=i.find("input:checked");b=[];each(c,function(_,a){b.push($(a).val())});break}return d.callback(b)};d.show=false;if(!d.title){throw new Error("prompt requires a title");}if(!$.isFunction(d.callback)){throw new Error("prompt requires a callback");}if(!o.inputs[d.inputType]){throw new Error("invalid prompt type");}i=$(o.inputs[d.inputType]);switch(d.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(d.value);break;case"select":var l={};k=d.inputOptions||[];if(!k.length){throw new Error("prompt with select requires options");}each(k,function(_,a){var b=i;if(a.value===n||a.text===n){throw new Error("given options in wrong format");}if(a.group){if(!l[a.group]){l[a.group]=$("<optgroup/>").attr("label",a.group)}b=l[a.group]}b.append("<option value='"+a.value+"'>"+a.text+"</option>")});each(l,function(_,a){i.append(a)});i.val(d.value);break;case"checkbox":var m=Array.isArray(d.value)?d.value:[d.value];k=d.inputOptions||[];if(!k.length){throw new Error("prompt with checkbox requires options");}if(!k[0].value||!k[0].text){throw new Error("given options in wrong format");}i=$("<div/>");each(k,function(_,b){var c=$(o.inputs[d.inputType]);c.find("input").attr("value",b.value);c.find("label").append(b.text);each(m,function(_,a){if(a===b.value){c.find("input").prop("checked",true)}});i.append(c)});break}if(d.placeholder){i.attr("placeholder",d.placeholder)}if(d.pattern){i.attr("pattern",d.pattern)}h.append(i);h.on("submit",function(e){e.preventDefault();e.stopPropagation();g.find(".btn-primary").click()});g=q.dialog(d);g.off("shown.bs.modal");g.on("shown.bs.modal",function(){i.focus()});if(j===true){g.modal("show")}return g};q.dialog=function(c){c=sanitize(c);var d=$(o.dialog);var f=d.find(".modal-dialog");var g=d.find(".modal-body");var h=c.buttons;var i="";var j={onEscape:c.onEscape};each(h,function(a,b){i+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>";j[a]=b.callback});g.find(".bootbox-body").html(c.message);if(c.animate===true){d.addClass("fade")}if(c.className){d.addClass(c.className)}if(c.size==="large"){f.addClass("modal-lg")}if(c.size==="small"){f.addClass("modal-sm")}if(c.title){g.before(o.header)}if(c.closeButton){var k=$(o.closeButton);if(c.title){d.find(".modal-header").prepend(k)}else{k.css("margin-top","-10px").prependTo(g)}}if(c.title){d.find(".modal-title").html(c.title)}if(i.length){g.after(o.footer);d.find(".modal-footer .btn-group").html(i)}d.on("hidden.bs.modal",function(e){if(e.target===this){d.remove()}});d.on("shown.bs.modal",function(){d.find(".btn-primary:first").focus()});d.on("escape.close.bb",function(e){if(j.onEscape){processCallback(e,d,j.onEscape)}});d.on("click",".modal-footer button",function(e){var a=$(this).data("bb-handler");processCallback(e,d,j[a])});d.on("click",".bootbox-close-button",function(e){processCallback(e,d,j.onEscape)});d.on("keyup",function(e){if(e.which===27){d.trigger("escape.close.bb")}});$(c.container).append(d);d.modal({backdrop:c.backdrop,keyboard:false,show:false});if(c.show){d.modal("show")}return d};q.setDefaults=function(){var a={};if(arguments.length===2){a[arguments[0]]=arguments[1]}else{a=arguments[0]}$.extend(p,a)};q.hideAll=function(){$(".bootbox").modal("hide");return q};var r={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};q.init=function(a){return init(a||$)};return q}));