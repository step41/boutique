(function($){var i='iCheck',_iCheckHelper=i+'-helper',_checkbox='checkbox',_radio='radio',_checked='checked',_unchecked='un'+_checked,_disabled='disabled',_determinate='determinate',_indeterminate='in'+_determinate,_update='update',_type='type',_click='click',_touch='touchbegin.i touchend.i',_add='addClass',_remove='removeClass',_callback='trigger',_label='label',_cursor='cursor',_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);$.fn[i]=function(e,f){var g='input[type="'+_checkbox+'"], input[type="'+_radio+'"]',stack=$(),walker=function(b){b.each(function(){var a=$(this);if(a.is(g)){stack=stack.add(a)}else{stack=stack.add(a.find(g))}})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(e)){e=e.toLowerCase();walker(this);return stack.each(function(){var a=$(this);if(e=='destroy'){tidy(a,'ifDestroyed')}else{operate(a,true,e)};if($.isFunction(f)){f()}})}else if(typeof e=='object'||!e){var h=$.extend({checkedClass:_checked,disabledClass:_disabled,indeterminateClass:_indeterminate,labelHover:true,aria:false},e),selector=h.handle,hoverClass=h.hoverClass||'hover',focusClass=h.focusClass||'focus',activeClass=h.activeClass||'active',labelHover=!!h.labelHover,labelHoverClass=h.labelHoverClass||'hover',area=(''+h.increaseArea).replace('%','')|0;if(selector==_checkbox||selector==_radio){g='input[type="'+selector+'"]'};if(area<-50){area=-50};walker(this);return stack.each(function(){var c=$(this);tidy(c);var d=this,id=d.id,offset=-area+'%',size=100+(area*2)+'%',layer={position:'absolute',top:offset,left:offset,display:'block',width:size,height:size,margin:0,padding:0,background:'#fff',border:0,opacity:0},hide=_mobile?{position:'absolute',visibility:'hidden'}:area?layer:{position:'absolute',opacity:0},className=d[_type]==_checkbox?h.checkboxClass||'i'+_checkbox:h.radioClass||'i'+_radio,label=$(_label+'[for="'+id+'"]').add(c.closest(_label)),aria=!!h.aria,ariaID=i+'-'+Math.random().toString(36).replace('0.',''),parent='<div class="'+className+'" '+(aria?'role="'+d[_type]+'" ':''),helper;if(label.length&&aria){label.each(function(){parent+='aria-labelledby="';if(this.id){parent+=this.id}else{this.id=ariaID;parent+=ariaID}parent+='"'})};parent=c.wrap(parent+'/>')[_callback]('ifCreated').parent().append(h.insert);helper=$('<ins class="'+_iCheckHelper+'"/>').css(layer).appendTo(parent);c.data(i,{o:h,s:c.attr('style')}).css(hide);!!h.inheritClass&&parent[_add](d.className||'');!!h.inheritID&&id&&parent.attr('id',i+'-'+id);parent.css('position')=='static'&&parent.css('position','relative');operate(c,true,_update);if(label.length){label.on(_click+'.i mouseover.i mouseout.i '+_touch,function(a){var b=a[_type],item=$(this);if(!d[_disabled]){if(b==_click){if($(a.target).is('a')){return}operate(c,false,true)}else if(labelHover){if(/ut|nd/.test(b)){parent[_remove](hoverClass);item[_remove](labelHoverClass)}else{parent[_add](hoverClass);item[_add](labelHoverClass)}};if(_mobile){a.stopPropagation()}else{return false}}})};c.on(_click+'.i focus.i blur.i keyup.i keydown.i keypress.i',function(a){var b=a[_type],key=a.keyCode;if(b==_click){return false}else if(b=='keydown'&&key==32){if(!(d[_type]==_radio&&d[_checked])){if(d[_checked]){off(c,_checked)}else{on(c,_checked)}};return false}else if(b=='keyup'&&d[_type]==_radio){!d[_checked]&&on(c,_checked)}else if(/us|ur/.test(b)){parent[b=='blur'?_remove:_add](focusClass)}});helper.on(_click+' mousedown mouseup mouseover mouseout '+_touch,function(a){var b=a[_type],toggle=/wn|up/.test(b)?activeClass:hoverClass;if(!d[_disabled]){if(b==_click){operate(c,false,true)}else{if(/wn|er|in/.test(b)){parent[_add](toggle)}else{parent[_remove](toggle+' '+activeClass)};if(label.length&&labelHover&&toggle==hoverClass){label[/ut|nd/.test(b)?_remove:_add](labelHoverClass)}};if(_mobile){a.stopPropagation()}else{return false}}})})}else{return this}};function operate(a,b,c){var d=a[0],e=/er/.test(c)?_indeterminate:/bl/.test(c)?_disabled:_checked,active=c==_update?{checked:d[_checked],disabled:d[_disabled],indeterminate:a.attr(_indeterminate)=='true'||a.attr(_determinate)=='false'}:d[e];if(/^(ch|di|in)/.test(c)&&!active){on(a,e)}else if(/^(un|en|de)/.test(c)&&active){off(a,e)}else if(c==_update){for(var e in active){if(active[e]){on(a,e,true)}else{off(a,e,true)}}}else if(!b||c=='toggle'){if(!b){a[_callback]('ifClicked')};if(active){if(d[_type]!==_radio){off(a,e)}}else{on(a,e)}}};function on(a,b,c){var d=a[0],parent=a.parent(),checked=b==_checked,indeterminate=b==_indeterminate,disabled=b==_disabled,callback=indeterminate?_determinate:checked?_unchecked:'enabled',regular=option(a,callback+capitalize(d[_type])),specific=option(a,b+capitalize(d[_type]));if(d[b]!==true){if(!c&&b==_checked&&d[_type]==_radio&&d.name){var e=a.closest('form'),inputs='input[name="'+d.name+'"]';inputs=e.length?e.find(inputs):$(inputs);inputs.each(function(){if(this!==d&&$(this).data(i)){off($(this),b)}})};if(indeterminate){d[b]=true;if(d[_checked]){off(a,_checked,'force')}}else{if(!c){d[b]=true};if(checked&&d[_indeterminate]){off(a,_indeterminate,false)}};callbacks(a,checked,b,c)};if(d[_disabled]&&!!option(a,_cursor,true)){parent.find('.'+_iCheckHelper).css(_cursor,'default')};parent[_add](specific||option(a,b)||'');disabled?parent.attr('aria-disabled','true'):parent.attr('aria-checked',indeterminate?'mixed':'true');parent[_remove](regular||option(a,callback)||'')};function off(a,b,c){var d=a[0],parent=a.parent(),checked=b==_checked,indeterminate=b==_indeterminate,disabled=b==_disabled,callback=indeterminate?_determinate:checked?_unchecked:'enabled',regular=option(a,callback+capitalize(d[_type])),specific=option(a,b+capitalize(d[_type]));if(d[b]!==false){if(indeterminate||!c||c=='force'){d[b]=false};callbacks(a,checked,callback,c)};if(!d[_disabled]&&!!option(a,_cursor,true)){parent.find('.'+_iCheckHelper).css(_cursor,'pointer')};parent[_remove](specific||option(a,b)||'');disabled?parent.attr('aria-disabled','false'):parent.attr('aria-checked','false');parent[_add](regular||option(a,callback)||'')};function tidy(a,b){if(a.data(i)){a.parent().html(a.attr('style',a.data(i).s||''));if(b){a[_callback](b)};a.off('.i').unwrap();$(_label+'[for="'+a[0].id+'"]').add(a.closest(_label)).off('.i')}};function option(a,b,c){if(a.data(i)){return a.data(i).o[b+(c?'':'Class')]}};function capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)};function callbacks(a,b,c,d){if(!d){if(b){a[_callback]('ifToggled')};a[_callback]('ifChanged')[_callback]('if'+capitalize(c))}}})(window.jQuery||window.Zepto);
