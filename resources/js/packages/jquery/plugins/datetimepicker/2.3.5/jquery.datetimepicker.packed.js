(function($){'use strict';var A={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:['فروردین','اردیبهشت','خرداد','تیر','مرداد','شهریور','مهر','آبان','آذر','دی','بهمن','اسفند'],dayOfWeek:['یکشنبه','دوشنبه','سه شنبه','چهارشنبه','پنجشنبه','جمعه','شنبه']},ru:{months:['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:['Січень','Лютий','Березень','Квітень','Травень','Червень','Липень','Серпень','Вересень','Жовтень','Листопад','Грудень'],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:['มกราคม','กุมภาพันธ์','มีนาคม','เมษายน','พฤษภาคม','มิถุนายน','กรกฎาคม','สิงหาคม','กันยายน','ตุลาคม','พฤศจิกายน','ธันวาคม'],dayOfWeek:['อา.','จ.','อ.','พ.','พฤ.','ศ.','ส.']},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]}},value:'',lang:'en',format:'Y-m-d H:i:s',formatTime:'H:i:s',formatDate:'Y-m-d',startDate:false,step:60,monthChangeSpinner:true,closeOnDateSelect:false,closeOnWithoutClick:true,closeOnInputClick:true,timepicker:true,datepicker:true,weeks:false,defaultTime:false,defaultDate:false,minDate:false,maxDate:false,minTime:false,maxTime:false,allowTimes:[],opened:false,initTime:true,inline:false,theme:'',onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:true,inverseButton:false,hours12:false,next:'ocms_dtp_next',prev:'ocms_dtp_prev',dayOfWeekStart:0,parentID:'body',timeHeightInTimePicker:25,timepickerScrollbar:true,todayButton:true,defaultSelect:true,scrollMonth:true,scrollTime:true,scrollInput:true,lazyInit:false,mask:false,validateOnBlur:true,allowBlank:true,yearStart:1950,yearEnd:2050,style:'',id:'',fixed:false,roundTime:'round',className:'',weekends:[],yearOffset:0,beforeShowDay:null};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(a,b){for(var i=(b||0),j=this.length;i<j;i++){if(this[i]===a){return i}}return-1}}Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};$.fn.ocms_dtpScroller=function(h){return this.each(function(){var f=$(this);if(!$(this).hasClass('ocms_dtp_scroller_box')){var g=function(e){var a={x:0,y:0};if(e.type=='touchstart'||e.type=='touchmove'||e.type=='touchend'||e.type=='touchcancel'){var b=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];a.x=b.pageX;a.y=b.pageY}else if(e.type=='mousedown'||e.type=='mouseup'||e.type=='mousemove'||e.type=='mouseover'||e.type=='mouseout'||e.type=='mouseenter'||e.type=='mouseleave'){a.x=e.pageX;a.y=e.pageY}return a},move=0,timebox=f.children().eq(0),parentHeight=f[0].clientHeight,height=timebox[0].offsetHeight,scrollbar=$('<div class="ocms_dtp_scrollbar"></div>'),scroller=$('<div class="ocms_dtp_scroller"></div>'),maximumOffset=100,start=false;scrollbar.append(scroller);f.addClass('ocms_dtp_scroller_box').append(scrollbar);scroller.on('mousedown.ocms_dtp_scroller',function(c){if(!parentHeight)f.trigger('resize_scroll.ocms_dtp_scroller',[h]);var d=c.pageY,top=parseInt(scroller.css('margin-top')),h1=scrollbar[0].offsetHeight;$(document.body).addClass('ocms_dtp_noselect');$([document.body,window]).on('mouseup.ocms_dtp_scroller',function arguments_callee(){$([document.body,window]).off('mouseup.ocms_dtp_scroller',arguments_callee).off('mousemove.ocms_dtp_scroller',move).removeClass('ocms_dtp_noselect')});$(document.body).on('mousemove.ocms_dtp_scroller',move=function(a){var b=a.pageY-d+top;if(b<0)b=0;if(b+scroller[0].offsetHeight>h1)b=h1-scroller[0].offsetHeight;f.trigger('scroll_element.ocms_dtp_scroller',[maximumOffset?b/maximumOffset:0])})});f.on('scroll_element.ocms_dtp_scroller',function(a,b){if(!parentHeight)f.trigger('resize_scroll.ocms_dtp_scroller',[b,true]);b=b>1?1:(b<0||isNaN(b))?0:b;scroller.css('margin-top',maximumOffset*b);setTimeout(function(){timebox.css('marginTop',-parseInt((timebox[0].offsetHeight-parentHeight)*b))},10)}).on('resize_scroll.ocms_dtp_scroller',function(a,b,c){parentHeight=f[0].clientHeight;height=timebox[0].offsetHeight;var d=parentHeight/height,sh=d*scrollbar[0].offsetHeight;if(d>1)scroller.hide();else{scroller.show();scroller.css('height',parseInt(sh>10?sh:10));maximumOffset=scrollbar[0].offsetHeight-scroller[0].offsetHeight;if(c!==true)f.trigger('scroll_element.ocms_dtp_scroller',[b?b:Math.abs(parseInt(timebox.css('marginTop')))/(height-parentHeight)])}});f.mousewheel&&f.mousewheel(function(a,b,c,d){var e=Math.abs(parseInt(timebox.css('marginTop')));f.trigger('scroll_element.ocms_dtp_scroller',[(e-b*20)/(height-parentHeight)]);a.stopPropagation();return false});f.on('touchstart',function(a){start=g(a)});f.on('touchmove',function(a){if(start){var b=g(a),top=Math.abs(parseInt(timebox.css('marginTop')));f.trigger('scroll_element.ocms_dtp_scroller',[(top-(b.y-start.y))/(height-parentHeight)]);a.stopPropagation();a.preventDefault();start=g(a)}});f.on('touchend touchcancel',function(a){start=false})}f.trigger('resize_scroll.ocms_dtp_scroller',[h])})};$.fn.datetimepicker=function(x){var z=48,KEY9=57,_KEY0=96,_KEY9=105,CTRLKEY=17,DEL=46,ENTER=13,ESC=27,BACKSPACE=8,ARROWLEFT=37,ARROWUP=38,ARROWRIGHT=39,ARROWDOWN=40,TAB=9,F5=116,AKEY=65,CKEY=67,VKEY=86,ZKEY=90,YKEY=89,ctrlDown=false,options=($.isPlainObject(x)||!x)?$.extend(true,{},A,x):$.extend(true,{},A),lazyInitTimer=0,lazyInit=function(b){b.on('open.ocms_dtp focusin.ocms_dtp mousedown.ocms_dtp',function initOnActionCallback(a){if(b.is(':disabled')||b.is(':hidden')||!b.is(':visible')||b.data('ocms_dtp_datetimepicker'))return;clearTimeout(lazyInitTimer);lazyInitTimer=setTimeout(function(){if(!b.data('ocms_dtp_datetimepicker'))createDateTimePicker(b);b.off('open.ocms_dtp focusin.ocms_dtp mousedown.ocms_dtp',initOnActionCallback).trigger('open.ocms_dtp')},100)})},createDateTimePicker=function(k){var l=$('<div '+(options.id?'id="'+options.id+'"':'')+' '+(options.style?'style="'+options.style+'"':'')+' class="ocms_dtp_datetimepicker ocms_dtp_'+options.theme+' ocms_dtp_noselect '+(options.weeks?' ocms_dtp_showweeks':'')+options.className+'"></div>'),datepicker=$('<div class="ocms_dtp_datepicker active"></div>'),month_picker=$('<div class="ocms_dtp_monthpicker"><button type="button" class="ocms_dtp_prev"></button><button type="button" class="ocms_dtp_today_button"></button>'+'<div class="ocms_dtp_label ocms_dtp_month"><span></span><i></i></div>'+'<div class="ocms_dtp_label ocms_dtp_year"><span></span><i></i></div>'+'<button type="button" class="ocms_dtp_next"></button></div>'),calendar=$('<div class="ocms_dtp_calendar"></div>'),timepicker=$('<div class="ocms_dtp_timepicker active"><button type="button" class="ocms_dtp_prev"></button><div class="ocms_dtp_time_box"></div><button type="button" class="ocms_dtp_next"></button></div>'),timeboxparent=timepicker.find('.ocms_dtp_time_box').eq(0),timebox=$('<div class="ocms_dtp_time_variant"></div>'),scrollbar=$('<div class="ocms_dtp_scrollbar"></div>'),scroller=$('<div class="ocms_dtp_scroller"></div>'),monthselect=$('<div class="ocms_dtp_select ocms_dtp_monthselect"><div></div></div>'),yearselect=$('<div class="ocms_dtp_select ocms_dtp_yearselect"><div></div></div>');month_picker.find('.ocms_dtp_month span').after(monthselect);month_picker.find('.ocms_dtp_year span').after(yearselect);month_picker.find('.ocms_dtp_month,.ocms_dtp_year').on('mousedown.ocms_dtp',function(a){var b=$(this).find('.ocms_dtp_select').eq(0),val=0,top=0,visible=b.is(':visible');month_picker.find('.ocms_dtp_select').hide();if(o.currentTime)val=o.currentTime[$(this).hasClass('ocms_dtp_month')?'getMonth':'getFullYear']();b[visible?'hide':'show']();for(var c=b.find('div.ocms_dtp_option'),i=0;i<c.length;i++){if(c.eq(i).data('value')==val){break}else top+=c[0].offsetHeight}b.ocms_dtpScroller(top/(b.children()[0].offsetHeight-(b[0].clientHeight)));a.stopPropagation();return false});month_picker.find('.ocms_dtp_select').ocms_dtpScroller().on('mousedown.ocms_dtp',function(a){a.stopPropagation();a.preventDefault()}).on('mousedown.ocms_dtp','.ocms_dtp_option',function(a){var b=o.currentTime.getFullYear();if(o&&o.currentTime)o.currentTime[$(this).parent().parent().hasClass('ocms_dtp_monthselect')?'setMonth':'setFullYear']($(this).data('value'));$(this).parent().parent().hide();l.trigger('xchange.ocms_dtp');options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(l,o.currentTime,l.data('input'));if(b!=o.currentTime.getFullYear()&&$.isFunction(options.onChangeYear)){options.onChangeYear.call(l,o.currentTime,l.data('input'))}});l.setOptions=function(d){options=$.extend(true,{},options,d);if(d.allowTimes&&Array.isArray(d.allowTimes)&&d.allowTimes.length){options['allowTimes']=$.extend(true,[],d.allowTimes)}if(d.weekends&&Array.isArray(d.weekends)&&d.weekends.length){options['weekends']=$.extend(true,[],d.weekends)}if((options.open||options.opened)&&(!options.inline)){k.trigger('open.ocms_dtp')}if(options.inline){r=true;l.addClass('ocms_dtp_inline');k.after(l).hide()}if(options.inverseButton){options.next='ocms_dtp_prev';options.prev='ocms_dtp_next'}if(options.datepicker)datepicker.addClass('active');else datepicker.removeClass('active');if(options.timepicker)timepicker.addClass('active');else timepicker.removeClass('active');if(options.value){k&&k.val&&k.val(options.value);o.setCurrentTime(options.value)}if(isNaN(options.dayOfWeekStart))options.dayOfWeekStart=0;else options.dayOfWeekStart=parseInt(options.dayOfWeekStart)%7;if(!options.timepickerScrollbar)scrollbar.hide();if(options.minDate&&/^-(.*)$/.test(options.minDate)){options.minDate=o.strToDateTime(options.minDate).dateFormat(options.formatDate)}if(options.maxDate&&/^\+(.*)$/.test(options.maxDate)){options.maxDate=o.strToDateTime(options.maxDate).dateFormat(options.formatDate)}month_picker.find('.ocms_dtp_today_button').css('visibility',!options.todayButton?'hidden':'visible');if(options.mask){var e,getCaretPos=function(a){try{if(document.selection&&document.selection.createRange){var b=document.selection.createRange();return b.getBookmark().charCodeAt(2)-2}else if(a.setSelectionRange)return a.selectionStart}catch(e){return 0}},setCaretPos=function(a,b){a=(typeof a=="string"||a instanceof String)?document.getElementById(a):a;if(!a){return false}else if(a.createTextRange){var c=a.createTextRange();c.collapse(true);c.moveEnd(b);c.moveStart(b);c.select();return true}else if(a.setSelectionRange){a.setSelectionRange(b,b);return true}return false},isValidValue=function(a,b){var c=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,'\\$1').replace(/_/g,'{digit+}').replace(/([0-9]{1})/g,'{digit$1}').replace(/\{digit([0-9]{1})\}/g,'[0-$1_]{1}').replace(/\{digit[\+]\}/g,'[0-9_]{1}');return RegExp(c).test(b)};k.off('keydown.ocms_dtp');switch(true){case(options.mask===true):options.mask=options.format.replace(/Y/g,'9999').replace(/F/g,'9999').replace(/m/g,'19').replace(/d/g,'39').replace(/H/g,'29').replace(/i/g,'59').replace(/s/g,'59');case(typeof(options.mask||undefined)=='string'):if(!isValidValue(options.mask,k.val()))k.val(options.mask.replace(/[0-9]/g,'_'));k.on('keydown.ocms_dtp',function(a){var b=this.value,key=a.which;switch(true){case((key>=z&&key<=KEY9)||(key>=_KEY0&&key<=_KEY9))||(key==BACKSPACE||key==DEL):var c=getCaretPos(this),digit=(key!=BACKSPACE&&key!=DEL)?String.fromCharCode((_KEY0<=key&&key<=_KEY9)?key-z:key):'_';if((key==BACKSPACE||key==DEL)&&c){c--;digit='_'}while(/[^0-9_]/.test(options.mask.substr(c,1))&&c<options.mask.length&&c>0)c+=(key==BACKSPACE||key==DEL)?-1:1;b=b.substr(0,c)+digit+b.substr(c+1);if($.trim(b)==''){b=options.mask.replace(/[0-9]/g,'_')}else{if(c==options.mask.length)break}c+=(key==BACKSPACE||key==DEL)?0:1;while(/[^0-9_]/.test(options.mask.substr(c,1))&&c<options.mask.length&&c>0)c+=(key==BACKSPACE||key==DEL)?-1:1;if(isValidValue(options.mask,b)){this.value=b;setCaretPos(this,c)}else if($.trim(b)=='')this.value=options.mask.replace(/[0-9]/g,'_');else{k.trigger('error_input.ocms_dtp')}break;case(!!~([AKEY,CKEY,VKEY,ZKEY,YKEY].indexOf(key))&&ctrlDown):case!!~([ESC,ARROWUP,ARROWDOWN,ARROWLEFT,ARROWRIGHT,F5,CTRLKEY,TAB,ENTER].indexOf(key)):return true}a.preventDefault();return false});break}}if(options.validateOnBlur){k.off('blur.ocms_dtp').on('blur.ocms_dtp',function(){if(options.allowBlank&&!$.trim($(this).val()).length){$(this).val(null);l.data('ocms_dtp_datetime').empty()}else if(!Date.parseDate($(this).val(),options.format)){$(this).val((o.now()).dateFormat(options.format));l.data('ocms_dtp_datetime').setCurrentTime($(this).val())}else{l.data('ocms_dtp_datetime').setCurrentTime($(this).val())}l.trigger('changedatetime.ocms_dtp')})}options.dayOfWeekStartPrev=(options.dayOfWeekStart==0)?6:options.dayOfWeekStart-1;l.trigger('xchange.ocms_dtp').trigger('afterOpen.ocms_dtp')};l.data('options',options).on('mousedown.ocms_dtp',function(a){a.stopPropagation();a.preventDefault();yearselect.hide();monthselect.hide();return false});var n=timepicker.find('.ocms_dtp_time_box');n.append(timebox);n.ocms_dtpScroller();l.on('afterOpen.ocms_dtp',function(){n.ocms_dtpScroller()});l.append(datepicker).append(timepicker);if(options.withoutCopyright!==true)l.append(ocms_dtp_copyright);datepicker.append(month_picker).append(calendar);$(options.parentID).append(l);var o=new function(){var e=this;e.now=function(a){var d=new Date();if(!a&&options.defaultDate){var b=e.strToDate(options.defaultDate);d.setFullYear(b.getFullYear());d.setMonth(b.getMonth());d.setDate(b.getDate())}if(options.yearOffset){d.setFullYear(d.getFullYear()+options.yearOffset)}if(!a&&options.defaultTime){var c=e.strtotime(options.defaultTime);d.setHours(c.getHours());d.setMinutes(c.getMinutes())}return d};e.isValidDate=function(d){if(Object.prototype.toString.call(d)!=="[object Date]")return false;return!isNaN(d.getTime())};e.setCurrentTime=function(a){e.currentTime=(typeof a=='string')?e.strToDateTime(a):e.isValidDate(a)?a:e.now();l.trigger('xchange.ocms_dtp')};e.empty=function(){e.currentTime=null};e.getCurrentTime=function(a){return e.currentTime};e.nextMonth=function(){var a=e.currentTime.getMonth()+1;if(a==12){e.currentTime.setFullYear(e.currentTime.getFullYear()+1);a=0}var b=e.currentTime.getFullYear();e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),a+1,0).getDate(),e.currentTime.getDate()));e.currentTime.setMonth(a);options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(l,o.currentTime,l.data('input'));if(b!=e.currentTime.getFullYear()&&$.isFunction(options.onChangeYear)){options.onChangeYear.call(l,o.currentTime,l.data('input'))}l.trigger('xchange.ocms_dtp');return a};e.prevMonth=function(){var a=e.currentTime.getMonth()-1;if(a==-1){e.currentTime.setFullYear(e.currentTime.getFullYear()-1);a=11}e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),a+1,0).getDate(),e.currentTime.getDate()));e.currentTime.setMonth(a);options.onChangeMonth&&options.onChangeMonth.call&&options.onChangeMonth.call(l,o.currentTime,l.data('input'));l.trigger('xchange.ocms_dtp');return a};e.getWeekOfYear=function(a){var b=new Date(a.getFullYear(),0,1);return Math.ceil((((a-b)/86400000)+b.getDay()+1)/7)};e.strToDateTime=function(a){if(a&&a instanceof Date&&e.isValidDate(a))return a;var b=[],timeOffset,currentTime;if((b=/^(\+|\-)(.*)$/.exec(a))&&(b[2]=Date.parseDate(b[2],options.formatDate))){timeOffset=b[2].getTime()-(b[2].getTimezoneOffset())*60000;currentTime=new Date((o.now()).getTime()+parseInt(b[1]+'1')*timeOffset)}else currentTime=a?Date.parseDate(a,options.format):e.now();if(!e.isValidDate(currentTime))currentTime=e.now();return currentTime};e.strToDate=function(a){if(a&&a instanceof Date&&e.isValidDate(a))return a;var b=a?Date.parseDate(a,options.formatDate):e.now(true);if(!e.isValidDate(b))b=e.now(true);return b};e.strtotime=function(a){if(a&&a instanceof Date&&e.isValidDate(a))return a;var b=a?Date.parseDate(a,options.formatTime):e.now(true);if(!e.isValidDate(b))b=e.now(true);return b};e.str=function(){return e.currentTime.dateFormat(options.format)};e.currentTime=this.now()};month_picker.find('.ocms_dtp_today_button').on('mousedown.ocms_dtp',function(){l.data('changed',true);o.setCurrentTime(0);l.trigger('afterOpen.ocms_dtp')}).on('dblclick.ocms_dtp',function(){k.val(o.str());l.trigger('close.ocms_dtp')});month_picker.find('.ocms_dtp_prev,.ocms_dtp_next').on('mousedown.ocms_dtp',function(){var b=$(this),u=0,stop=false;(function arguments_callee1(v){var a=o.currentTime.getMonth();if(b.hasClass(options.next)){o.nextMonth()}else if(b.hasClass(options.prev)){o.prevMonth()}if(options.monthChangeSpinner){!stop&&(u=setTimeout(arguments_callee1,v?v:100))}})(500);$([document.body,window]).on('mouseup.ocms_dtp',function arguments_callee2(){clearTimeout(u);stop=true;$([document.body,window]).off('mouseup.ocms_dtp',arguments_callee2)})});timepicker.find('.ocms_dtp_prev,.ocms_dtp_next').on('mousedown.ocms_dtp',function(){var b=$(this),u=0,stop=false,period=110;(function arguments_callee4(v){var a=timeboxparent[0].clientHeight,height=timebox[0].offsetHeight,top=Math.abs(parseInt(timebox.css('marginTop')));if(b.hasClass(options.next)&&(height-a)-options.timeHeightInTimePicker>=top){timebox.css('marginTop','-'+(top+options.timeHeightInTimePicker)+'px')}else if(b.hasClass(options.prev)&&top-options.timeHeightInTimePicker>=0){timebox.css('marginTop','-'+(top-options.timeHeightInTimePicker)+'px')}timeboxparent.trigger('scroll_element.ocms_dtp_scroller',[Math.abs(parseInt(timebox.css('marginTop'))/(height-a))]);period=(period>10)?10:period-10;!stop&&(u=setTimeout(arguments_callee4,v?v:period))})(500);$([document.body,window]).on('mouseup.ocms_dtp',function arguments_callee5(){clearTimeout(u);stop=true;$([document.body,window]).off('mouseup.ocms_dtp',arguments_callee5)})});var p=0;l.on('xchange.ocms_dtp',function(g){clearTimeout(p);p=setTimeout(function(){var b='',start=new Date(o.currentTime.getFullYear(),o.currentTime.getMonth(),1,12,0,0),i=0,today=o.now();while(start.getDay()!=options.dayOfWeekStart)start.setDate(start.getDate()-1);b+='<table><thead><tr>';if(options.weeks){b+='<th></th>'}for(var j=0;j<7;j++){b+='<th>'+options.i18n[options.lang].dayOfWeek[(j+options.dayOfWeekStart)%7]+'</th>'}b+='</tr></thead>';b+='<tbody>';var c=false,minDate=false;if(options.maxDate!==false){c=o.strToDate(options.maxDate);c=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59,999)}if(options.minDate!==false){minDate=o.strToDate(options.minDate);minDate=new Date(minDate.getFullYear(),minDate.getMonth(),minDate.getDate())}var d,y,m,w,classes=[],customDateSettings,newRow=true;while(i<o.currentTime.countDaysInMonth()||start.getDay()!=options.dayOfWeekStart||o.currentTime.getMonth()==start.getMonth()){classes=[];i++;d=start.getDate();y=start.getFullYear();m=start.getMonth();w=o.getWeekOfYear(start);classes.push('ocms_dtp_date');if(options.beforeShowDay&&options.beforeShowDay.call){customDateSettings=options.beforeShowDay.call(l,start)}else{customDateSettings=null}if((c!==false&&start>c)||(minDate!==false&&start<minDate)||(customDateSettings&&customDateSettings[0]===false)){classes.push('ocms_dtp_disabled')}if(customDateSettings&&customDateSettings[1]!=""){classes.push(customDateSettings[1])}if(o.currentTime.getMonth()!=m)classes.push('ocms_dtp_other_month');if((options.defaultSelect||l.data('changed'))&&o.currentTime.dateFormat(options.formatDate)==start.dateFormat(options.formatDate)){classes.push('ocms_dtp_current')}if(today.dateFormat(options.formatDate)==start.dateFormat(options.formatDate)){classes.push('ocms_dtp_today')}if(start.getDay()==0||start.getDay()==6||~options.weekends.indexOf(start.dateFormat(options.formatDate))){classes.push('ocms_dtp_weekend')}if(options.beforeShowDay&&typeof options.beforeShowDay=='function'){classes.push(options.beforeShowDay(start))}if(newRow){b+='<tr>';newRow=false;if(options.weeks){b+='<th>'+w+'</th>'}}b+='<td data-date="'+d+'" data-month="'+m+'" data-year="'+y+'"'+' class="ocms_dtp_date ocms_dtp_day_of_week'+start.getDay()+' '+classes.join(' ')+'">'+'<div>'+d+'</div>'+'</td>';if(start.getDay()==options.dayOfWeekStartPrev){b+='</tr>';newRow=true}start.setDate(d+1)}b+='</tbody></table>';calendar.html(b);month_picker.find('.ocms_dtp_label span').eq(0).text(options.i18n[options.lang].months[o.currentTime.getMonth()]);month_picker.find('.ocms_dtp_label span').eq(1).text(o.currentTime.getFullYear());var e='',h='',m='',line_time=function line_time(h,m){var a=o.now();a.setHours(h);h=parseInt(a.getHours());a.setMinutes(m);m=parseInt(a.getMinutes());classes=[];if((options.maxTime!==false&&o.strtotime(options.maxTime).getTime()<a.getTime())||(options.minTime!==false&&o.strtotime(options.minTime).getTime()>a.getTime()))classes.push('ocms_dtp_disabled');if((options.initTime||options.defaultSelect||l.data('changed'))&&parseInt(o.currentTime.getHours())==parseInt(h)&&(options.step>59||Math[options.roundTime](o.currentTime.getMinutes()/options.step)*options.step==parseInt(m))){if(options.defaultSelect||l.data('changed')){classes.push('ocms_dtp_current')}else if(options.initTime){classes.push('ocms_dtp_init_time')}}if(parseInt(today.getHours())==parseInt(h)&&parseInt(today.getMinutes())==parseInt(m))classes.push('ocms_dtp_today');e+='<div class="ocms_dtp_time '+classes.join(' ')+'" data-hour="'+h+'" data-minute="'+m+'">'+a.dateFormat(options.formatTime)+'</div>'};if(!options.allowTimes||!Array.isArray(options.allowTimes)||!options.allowTimes.length){for(var i=0,j=0;i<(options.hours12?12:24);i++){for(j=0;j<60;j+=options.step){h=(i<10?'0':'')+i;m=(j<10?'0':'')+j;line_time(h,m)}}}else{for(var i=0;i<options.allowTimes.length;i++){h=o.strtotime(options.allowTimes[i]).getHours();m=o.strtotime(options.allowTimes[i]).getMinutes();line_time(h,m)}}timebox.html(e);var f='',i=0;for(i=parseInt(options.yearStart,10)+options.yearOffset;i<=parseInt(options.yearEnd,10)+options.yearOffset;i++){f+='<div class="ocms_dtp_option '+(o.currentTime.getFullYear()==i?'ocms_dtp_current':'')+'" data-value="'+i+'">'+i+'</div>'}yearselect.children().eq(0).html(f);for(i=0,f='';i<=11;i++){f+='<div class="ocms_dtp_option '+(o.currentTime.getMonth()==i?'ocms_dtp_current':'')+'" data-value="'+i+'">'+options.i18n[options.lang].months[i]+'</div>'}monthselect.children().eq(0).html(f);$(l).trigger('generate.ocms_dtp')},10);g.stopPropagation()}).on('afterOpen.ocms_dtp',function(){if(options.timepicker){var a;if(timebox.find('.ocms_dtp_current').length){a='.ocms_dtp_current'}else if(timebox.find('.ocms_dtp_init_time').length){a='.ocms_dtp_init_time'}if(a){var b=timeboxparent[0].clientHeight,height=timebox[0].offsetHeight,top=timebox.find(a).index()*options.timeHeightInTimePicker+1;if((height-b)<top)top=height-b;timeboxparent.trigger('scroll_element.ocms_dtp_scroller',[parseInt(top)/(height-b)])}else{timeboxparent.trigger('scroll_element.ocms_dtp_scroller',[0])}}});var q=0;calendar.on('click.ocms_dtp','td',function(a){a.stopPropagation();q++;var b=$(this),currentTime=o.currentTime;if(currentTime===undefined||currentTime===null){o.currentTime=o.now();currentTime=o.currentTime}if(b.hasClass('ocms_dtp_disabled'))return false;currentTime.setDate(1);currentTime.setFullYear(b.data('year'));currentTime.setMonth(b.data('month'));currentTime.setDate(b.data('date'));l.trigger('select.ocms_dtp',[currentTime]);k.val(o.str());if((q>1||(options.closeOnDateSelect===true||(options.closeOnDateSelect===0&&!options.timepicker)))&&!options.inline){l.trigger('close.ocms_dtp')}if(options.onSelectDate&&options.onSelectDate.call){options.onSelectDate.call(l,o.currentTime,l.data('input'))}l.data('changed',true);l.trigger('xchange.ocms_dtp');l.trigger('changedatetime.ocms_dtp');setTimeout(function(){q=0},200)});timebox.on('click.ocms_dtp','div',function(a){a.stopPropagation();var b=$(this),currentTime=o.currentTime;if(currentTime===undefined||currentTime===null){o.currentTime=o.now();currentTime=o.currentTime}if(b.hasClass('ocms_dtp_disabled'))return false;currentTime.setHours(b.data('hour'));currentTime.setMinutes(b.data('minute'));l.trigger('select.ocms_dtp',[currentTime]);l.data('input').val(o.str());!options.inline&&l.trigger('close.ocms_dtp');if(options.onSelectTime&&options.onSelectTime.call){options.onSelectTime.call(l,o.currentTime,l.data('input'))}l.data('changed',true);l.trigger('xchange.ocms_dtp');l.trigger('changedatetime.ocms_dtp')});l.mousewheel&&datepicker.mousewheel(function(a,b,c,d){if(!options.scrollMonth)return true;if(b<0)o.nextMonth();else o.prevMonth();return false});l.mousewheel&&timeboxparent.unmousewheel().mousewheel(function(a,b,c,d){if(!options.scrollTime)return true;var e=timeboxparent[0].clientHeight,height=timebox[0].offsetHeight,top=Math.abs(parseInt(timebox.css('marginTop'))),fl=true;if(b<0&&(height-e)-options.timeHeightInTimePicker>=top){timebox.css('marginTop','-'+(top+options.timeHeightInTimePicker)+'px');fl=false}else if(b>0&&top-options.timeHeightInTimePicker>=0){timebox.css('marginTop','-'+(top-options.timeHeightInTimePicker)+'px');fl=false}timeboxparent.trigger('scroll_element.ocms_dtp_scroller',[Math.abs(parseInt(timebox.css('marginTop'))/(height-e))]);a.stopPropagation();return fl});var r=false;l.on('changedatetime.ocms_dtp',function(){if(options.onChangeDateTime&&options.onChangeDateTime.call){var a=l.data('input');options.onChangeDateTime.call(l,o.currentTime,a);delete options.value;a.trigger('change')}}).on('generate.ocms_dtp',function(){if(options.onGenerate&&options.onGenerate.call)options.onGenerate.call(l,o.currentTime,l.data('input'));if(r){l.trigger('afterOpen.ocms_dtp');r=false}}).on('click.ocms_dtp',function(a){a.stopPropagation()});var s=0;k.mousewheel&&k.mousewheel(function(a,b,c,d){if(!options.scrollInput)return true;if(!options.datepicker&&options.timepicker){s=timebox.find('.ocms_dtp_current').length?timebox.find('.ocms_dtp_current').eq(0).index():0;if(s+b>=0&&s+b<timebox.children().length)s+=b;timebox.children().eq(s).length&&timebox.children().eq(s).trigger('mousedown');return false}else if(options.datepicker&&!options.timepicker){datepicker.trigger(a,[b,c,d]);k.val&&k.val(o.str());l.trigger('changedatetime.ocms_dtp');return false}});var t=function(){var a=l.data('input').offset(),top=a.top+l.data('input')[0].offsetHeight-1,left=a.left,position="absolute";if(options.fixed){top-=$(window).scrollTop();left-=$(window).scrollLeft();position="fixed"}else{if(top+l[0].offsetHeight>$(window).height()+$(window).scrollTop())top=a.top-l[0].offsetHeight+1;if(top<0)top=0;if(left+l[0].offsetWidth>$(window).width())left=$(window).width()-l[0].offsetWidth}l.css({left:left,top:top,position:position})};l.on('open.ocms_dtp',function(){var a=true;if(options.onShow&&options.onShow.call){a=options.onShow.call(l,o.currentTime,l.data('input'))}if(a!==false){l.show();t();$(window).off('resize.ocms_dtp',t).on('resize.ocms_dtp',t);if(options.closeOnWithoutClick){$([document.body,window]).on('mousedown.ocms_dtp',function arguments_callee6(){l.trigger('close.ocms_dtp');$([document.body,window]).off('mousedown.ocms_dtp',arguments_callee6)})}}}).on('close.ocms_dtp',function(a){var b=true;month_picker.find('.ocms_dtp_month,.ocms_dtp_year').find('.ocms_dtp_select').hide();if(options.onClose&&options.onClose.call){b=options.onClose.call(l,o.currentTime,l.data('input'))}if(b!==false&&!options.opened&&!options.inline){l.hide()}a.stopPropagation()}).data('input',k);var u=0,timer1=0;l.data('ocms_dtp_datetime',o);l.setOptions(options);function getCurrentValue(){var a=false;if(options.startDate){a=o.strToDate(options.startDate)}else{a=options.value?options.value:(k&&k.val&&k.val())?k.val():'';if(a){a=o.strToDateTime(a)}else if(options.defaultDate){a=o.strToDate(options.defaultDate);if(options.defaultTime){var b=o.strtotime(options.defaultTime);a.setHours(b.getHours());a.setMinutes(b.getMinutes())}}}if(a&&o.isValidDate(a)){l.data('changed',true)}else{a=''}return a?a:0}o.setCurrentTime(getCurrentValue());k.data('ocms_dtp_datetimepicker',l).on('open.ocms_dtp focusin.ocms_dtp mousedown.ocms_dtp',function(a){if(k.is(':disabled')||k.is(':hidden')||!k.is(':visible')||(k.data('ocms_dtp_datetimepicker').is(':visible')&&options.closeOnInputClick))return;clearTimeout(u);u=setTimeout(function(){if(k.is(':disabled')||k.is(':hidden')||!k.is(':visible'))return;r=true;o.setCurrentTime(getCurrentValue());l.trigger('open.ocms_dtp')},100)}).on('keydown.ocms_dtp',function(a){var b=this.value,key=a.which;switch(true){case!!~([ENTER].indexOf(key)):var c=$("input:visible,textarea:visible");l.trigger('close.ocms_dtp');c.eq(c.index(this)+1).focus();return false;case!!~[TAB].indexOf(key):l.trigger('close.ocms_dtp');return true}})},destroyDateTimePicker=function(a){var b=a.data('ocms_dtp_datetimepicker');if(b){b.data('ocms_dtp_datetime',null);b.remove();a.data('ocms_dtp_datetimepicker',null).off('open.ocms_dtp focusin.ocms_dtp focusout.ocms_dtp mousedown.ocms_dtp blur.ocms_dtp keydown.ocms_dtp');$(window).off('resize.ocms_dtp');$([window,document.body]).off('mousedown.ocms_dtp');a.unmousewheel&&a.unmousewheel()}};$(document).off('keydown.ocms_dtpctrl keyup.ocms_dtpctrl').on('keydown.ocms_dtpctrl',function(e){if(e.keyCode==CTRLKEY)ctrlDown=true}).on('keyup.ocms_dtpctrl',function(e){if(e.keyCode==CTRLKEY)ctrlDown=false});return this.each(function(){var a;if(a=$(this).data('ocms_dtp_datetimepicker')){if(typeof(x||undefined)==='string'){switch(x){case'show':$(this).select().focus();a.trigger('open.ocms_dtp');break;case'hide':a.trigger('close.ocms_dtp');break;case'destroy':destroyDateTimePicker($(this));break;case'reset':this.value=this.defaultValue;if(!this.value||!a.data('ocms_dtp_datetime').isValidDate(Date.parseDate(this.value,options.format)))a.data('changed',false);a.data('ocms_dtp_datetime').setCurrentTime(this.value);break}}else{a.setOptions(x)}return 0}else if((typeof(x||undefined)!=='string')){if(!options.lazyInit||options.open||options.inline){createDateTimePicker($(this))}else lazyInit($(this))}})};$.fn.datetimepicker.defaults=A})(jQuery);(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else if(typeof exports==='object'){module.exports=a}else{a(jQuery)}}(function($){var c=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'];var d='onwheel'in document||document.documentMode>=9?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'];var e,lowestDeltaXY;if($.event.fixHooks){for(var i=c.length;i;){$.event.fixHooks[c[--i]]=$.event.mouseHooks}}$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=d.length;i;){this.addEventListener(d[--i],handler,false)}}else{this.onmousewheel=handler}},teardown:function(){if(this.removeEventListener){for(var i=d.length;i;){this.removeEventListener(d[--i],handler,false)}}else{this.onmousewheel=null}}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function handler(a){var b=a||window.event,args=[].slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0,fn;a=$.event.fix(b);a.type="mousewheel";if(b.wheelDelta){delta=b.wheelDelta}if(b.detail){delta=b.detail*-1}if(b.deltaY){deltaY=b.deltaY*-1;delta=deltaY}if(b.deltaX){deltaX=b.deltaX;delta=deltaX*-1}if(b.wheelDeltaY!==undefined){deltaY=b.wheelDeltaY}if(b.wheelDeltaX!==undefined){deltaX=b.wheelDeltaX*-1}absDelta=Math.abs(delta);if(!e||absDelta<e){e=absDelta}absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDeltaXY||absDeltaXY<lowestDeltaXY){lowestDeltaXY=absDeltaXY}fn=delta>0?'floor':'ceil';delta=Math[fn](delta/e);deltaX=Math[fn](deltaX/lowestDeltaXY);deltaY=Math[fn](deltaY/lowestDeltaXY);args.unshift(a,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args)}}));Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(b){if(b=="unixtime"){return parseInt(this.getTime()/1000)}if(Date.formatFunctions[b]==null){Date.createNewFormat(b)}var a=Date.formatFunctions[b];return this[a]()};Date.createNewFormat=function(a){var b="format"+Date.formatFunctions.count++;Date.formatFunctions[a]=b;var c="Date.prototype."+b+" = function() {return ";var d=false;var e="";for(var i=0;i<a.length;++i){e=a.charAt(i);if(!d&&e=="\\"){d=true}else{if(d){d=false;c+="'"+String.escape(e)+"' + "}else{c+=Date.getFormatCode(e)}}}eval(c.substring(0,c.length-3)+";}")};Date.getFormatCode=function(a){switch(a){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(a)+"' + "}};Date.parseDate=function(a,c){if(c=="unixtime"){return new Date(!isNaN(parseInt(a))?parseInt(a)*1000:0)}if(Date.parseFunctions[c]==null){Date.createParser(c)}var b=Date.parseFunctions[c];return Date[b](a)};Date.createParser=function(a){var b="parse"+Date.parseFunctions.count++;var c=Date.parseRegexes.length;var d=1;Date.parseFunctions[a]=b;var e="Date."+b+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+c+"]);\nif (results && results.length > 0) {";var f="";var g=false;var h="";for(var i=0;i<a.length;++i){h=a.charAt(i);if(!g&&h=="\\"){g=true}else{if(g){g=false;f+=String.escape(h)}else{obj=Date.formatCodeToRegex(h,d);d+=obj.g;f+=obj.s;if(obj.g&&obj.c){e+=obj.c}}}}e+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}";e+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}";Date.parseRegexes[c]=new RegExp("^"+f+"$");eval(e)};Date.formatCodeToRegex=function(b,a){switch(b){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+a+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+a+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+a+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+a+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+a+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+a+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+a+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+a+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+a+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+a+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+a+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+a+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(b)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b){a+=Date.daysInMonth[b]}return a+this.getDate()};Date.prototype.getWeekOfYear=function(){var b=this.getDayOfYear()+(4-this.getDay());var a=new Date(this.getFullYear(),0,1);var c=(7-a.getDay()+4);return String.leftPad(Math.ceil((b-c)/7)+1,2,"0")};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return((a&3)==0&&(a%100||(a%400==0&&a)))};Date.prototype.getFirstDayOfMonth=function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a};Date.prototype.getLastDayOfMonth=function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return(a<0)?(a+7):a};Date.prototype.getDaysInMonth=function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(a){return a.replace(/('|\\)/g,"\\$1")};String.leftPad=function(d,b,c){var a=new String(d);if(c==null){c=" "}while(a.length<b){a=c+a}return a};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"};