'use strict';(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else{a(jQuery)}}(function($){var D={wheelSpeed:10,wheelPropagation:false,minScrollbarLength:null,useBothWheelAxes:false,useKeyboard:true,vertShift:false};$.fn.perfectScrollbar=function(B,C){return this.each(function(){var i=$.extend(true,{},D),$this=$(this);if(typeof B==="object"){$.extend(true,i,B)}else{C=B}if(C==='update'){if($this.data('perfect-scrollbar-update')){$this.data('perfect-scrollbar-update')()}return $this}else if(C==='destroy'){if($this.data('perfect-scrollbar-destroy')){$this.data('perfect-scrollbar-destroy')()}return $this}if($this.data('perfect-scrollbar')){return $this.data('perfect-scrollbar')}$this.css('overflow-y','hidden');$this.addClass('ps-container');var j=$("<div class='ps-scrollbar-x-rail'></div>").appendTo($this),$scrollbarYRail=$("<div class='ps-scrollbar-y-rail'></div>").appendTo($this),$scrollbarX=$("<div class='ps-scrollbar-x'></div>").appendTo(j),$scrollbarY=$("<div class='ps-scrollbar-y'></div>").appendTo($scrollbarYRail),scrollbarXActive,scrollbarYActive,containerWidth,containerHeight,contentWidth,contentHeight,scrollbarXWidth,scrollbarXLeft,scrollbarXBottom=parseInt(j.css('bottom'),10),scrollbarYHeight,scrollbarYTop,scrollbarYRight=parseInt($scrollbarYRail.css('right'),10);var k=function(){var a=parseInt(scrollbarYTop*(contentHeight-containerHeight)/(containerHeight-scrollbarYHeight),10);$this.scrollTop(a);j.css({bottom:scrollbarXBottom-a})};var l=function(){var a=parseInt(scrollbarXLeft*(contentWidth-containerWidth)/(containerWidth-scrollbarXWidth),10);$this.scrollLeft(a);$scrollbarYRail.css({right:scrollbarYRight-a})};var m=function(a){if(i.minScrollbarLength){a=Math.max(a,i.minScrollbarLength)}return a};var n=function(){j.css({left:$this.scrollLeft(),bottom:scrollbarXBottom-$this.scrollTop(),width:containerWidth});$scrollbarYRail.css({top:$this.scrollTop(),right:scrollbarYRight-$this.scrollLeft(),height:containerHeight});$scrollbarX.css({left:scrollbarXLeft,width:scrollbarXWidth});$scrollbarY.css({top:scrollbarYTop,height:scrollbarYHeight})};var o=function(){containerWidth=$this.width();containerHeight=$this.height();contentWidth=$this.prop('scrollWidth');contentHeight=$this.prop('scrollHeight');if(containerWidth<contentWidth){scrollbarXActive=true;scrollbarXWidth=m(parseInt(containerWidth*containerWidth/contentWidth,10));scrollbarXLeft=parseInt($this.scrollLeft()*(containerWidth-scrollbarXWidth)/(contentWidth-containerWidth),10)}else{scrollbarXActive=false;scrollbarXWidth=0;scrollbarXLeft=0;$this.scrollLeft(0)}if(containerHeight<contentHeight){scrollbarYActive=true;scrollbarYHeight=m(parseInt(containerHeight*containerHeight/contentHeight,10));scrollbarYTop=parseInt($this.scrollTop()*(containerHeight-scrollbarYHeight)/(contentHeight-containerHeight),10)}else{scrollbarYActive=false;scrollbarYHeight=0;scrollbarYTop=0;$this.scrollTop(0)}if(scrollbarYTop>=containerHeight-scrollbarYHeight){scrollbarYTop=containerHeight-scrollbarYHeight}if(scrollbarXLeft>=containerWidth-scrollbarXWidth){scrollbarXLeft=containerWidth-scrollbarXWidth}n()};var p=function(a,b){var c=a+b,maxLeft=containerWidth-scrollbarXWidth;if(c<0){scrollbarXLeft=0}else if(c>maxLeft){scrollbarXLeft=maxLeft}else{scrollbarXLeft=c}j.css({left:$this.scrollLeft()});$scrollbarX.css({left:scrollbarXLeft})};var q=function(a,b){var c=a+b,maxTop=containerHeight-scrollbarYHeight;if(c<0){scrollbarYTop=0}else if(c>maxTop){scrollbarYTop=maxTop}else{scrollbarYTop=c}$scrollbarYRail.css({top:$this.scrollTop()});$scrollbarY.css({top:scrollbarYTop})};var r=function(){var a,currentPageX;$scrollbarX.bind('mousedown.perfect-scrollbar',function(e){currentPageX=e.pageX;a=$scrollbarX.position().left;j.addClass('in-scrolling');e.stopPropagation();e.preventDefault()});$(document).bind('mousemove.perfect-scrollbar',function(e){if(j.hasClass('in-scrolling')){l();p(a,e.pageX-currentPageX);e.stopPropagation();e.preventDefault()}});$(document).bind('mouseup.perfect-scrollbar',function(e){if(j.hasClass('in-scrolling')){j.removeClass('in-scrolling')}});a=currentPageX=null};var s=function(){var a,currentPageY;$scrollbarY.bind('mousedown.perfect-scrollbar',function(e){currentPageY=e.pageY;a=$scrollbarY.position().top;$scrollbarYRail.addClass('in-scrolling');e.stopPropagation();e.preventDefault()});$(document).bind('mousemove.perfect-scrollbar',function(e){if($scrollbarYRail.hasClass('in-scrolling')){k();q(a,e.pageY-currentPageY);e.stopPropagation();e.preventDefault()}});$(document).bind('mouseup.perfect-scrollbar',function(e){if($scrollbarYRail.hasClass('in-scrolling')){$scrollbarYRail.removeClass('in-scrolling')}});a=currentPageY=null};var t=function(){var f=function(a,b){var c=$this.scrollTop();if(c===0&&b>0&&a===0){return!i.wheelPropagation}else if(c>=contentHeight-containerHeight&&b<0&&a===0){return!i.wheelPropagation}var d=$this.scrollLeft();if(d===0&&a<0&&b===0){return!i.wheelPropagation}else if(d>=contentWidth-containerWidth&&a>0&&b===0){return!i.wheelPropagation}return true};var g=false;$this.bind('mousewheel.perfect-scrollbar',function(e,a,b,c){if(!i.useBothWheelAxes){$this.scrollTop($this.scrollTop()-(c*i.wheelSpeed));$this.scrollLeft($this.scrollLeft()+(b*i.wheelSpeed))}else if(scrollbarYActive&&!scrollbarXActive){if(c){$this.scrollTop($this.scrollTop()-(c*i.wheelSpeed))}else{$this.scrollTop($this.scrollTop()+(b*i.wheelSpeed))}}else if(scrollbarXActive&&!scrollbarYActive){if(b){$this.scrollLeft($this.scrollLeft()+(b*i.wheelSpeed))}else{$this.scrollLeft($this.scrollLeft()-(c*i.wheelSpeed))}}o();g=f(b,c);if(g){e.preventDefault()}});$this.bind('MozMousePixelScroll.perfect-scrollbar',function(e){if(g){e.preventDefault()}})};var u=function(){var f=function(a,b){var c=$this.scrollTop();if(c===0&&b>0&&a===0){return false}else if(c>=contentHeight-containerHeight&&b<0&&a===0){return false}var d=$this.scrollLeft();if(d===0&&a<0&&b===0){return false}else if(d>=contentWidth-containerWidth&&a>0&&b===0){return false}return true};var g=false;$this.bind('mouseenter.perfect-scrollbar',function(e){g=true;if(scrollbarYActive&&i.vertShift){$this.thisPaddingLeft=($this.thisPaddingLeft)?$this.thisPaddingLeft:$this.css('padding-left');$this.animate({paddingLeft:$scrollbarY.css('width')})}});$this.bind('mouseleave.perfect-scrollbar',function(e){g=false;if($this.thisPaddingLeft&&i.vertShift){$this.animate({paddingLeft:$this.thisPaddingLeft})}});var h=false;$(document).bind('keydown.perfect-scrollbar',function(e){if(!g){return}var a=0,deltaY=0;switch(e.which){case 37:a=-3;break;case 38:deltaY=3;break;case 39:a=3;break;case 40:deltaY=-3;break;default:return}$this.scrollTop($this.scrollTop()-(deltaY*i.wheelSpeed));$this.scrollLeft($this.scrollLeft()+(a*i.wheelSpeed));o();h=f(a,deltaY);if(h){e.preventDefault()}})};var v=function(){var b=function(e){e.stopPropagation()};$scrollbarY.bind('click.perfect-scrollbar',b);$scrollbarYRail.bind('click.perfect-scrollbar',function(e){var a=parseInt(scrollbarYHeight/2,10),positionTop=e.pageY-$scrollbarYRail.offset().top-a,maxPositionTop=containerHeight-scrollbarYHeight,positionRatio=positionTop/maxPositionTop;if(positionRatio<0){positionRatio=0}else if(positionRatio>1){positionRatio=1}$this.scrollTop((contentHeight-containerHeight)*positionRatio);o()});$scrollbarX.bind('click.perfect-scrollbar',b);j.bind('click.perfect-scrollbar',function(e){var a=parseInt(scrollbarXWidth/2,10),positionLeft=e.pageX-j.offset().left-a,maxPositionLeft=containerWidth-scrollbarXWidth,positionRatio=positionLeft/maxPositionLeft;if(positionRatio<0){positionRatio=0}else if(positionRatio>1){positionRatio=1}$this.scrollLeft((contentWidth-containerWidth)*positionRatio);o()})};var w=function(){var f=function(a,b){$this.scrollTop($this.scrollTop()-b);$this.scrollLeft($this.scrollLeft()-a);o()};var g={},startTime=0,speed={},breakingProcess=null,inGlobalTouch=false;$(window).bind("touchstart.perfect-scrollbar",function(e){inGlobalTouch=true});$(window).bind("touchend.perfect-scrollbar",function(e){inGlobalTouch=false});$this.bind("touchstart.perfect-scrollbar",function(e){var a=e.originalEvent.targetTouches[0];g.pageX=a.pageX;g.pageY=a.pageY;startTime=(new Date()).getTime();if(breakingProcess!==null){clearInterval(breakingProcess)}e.stopPropagation()});$this.bind("touchmove.perfect-scrollbar",function(e){if(!inGlobalTouch&&e.originalEvent.targetTouches.length===1){var a=e.originalEvent.targetTouches[0];var b={};b.pageX=a.pageX;b.pageY=a.pageY;var c=b.pageX-g.pageX,differenceY=b.pageY-g.pageY;f(c,differenceY);g=b;var d=(new Date()).getTime();speed.x=c/(d-startTime);speed.y=differenceY/(d-startTime);startTime=d;e.preventDefault()}});$this.bind("touchend.perfect-scrollbar",function(e){clearInterval(breakingProcess);breakingProcess=setInterval(function(){if(Math.abs(speed.x)<0.01&&Math.abs(speed.y)<0.01){clearInterval(breakingProcess);return}f(speed.x*30,speed.y*30);speed.x*=0.8;speed.y*=0.8},10)})};var x=function(){$this.unbind('.perfect-scrollbar');$(window).unbind('.perfect-scrollbar');$(document).unbind('.perfect-scrollbar');$this.data('perfect-scrollbar',null);$this.data('perfect-scrollbar-update',null);$this.data('perfect-scrollbar-destroy',null);$scrollbarX.remove();$scrollbarY.remove();j.remove();$scrollbarYRail.remove();$scrollbarX=$scrollbarY=containerWidth=containerHeight=contentWidth=contentHeight=scrollbarXWidth=scrollbarXLeft=scrollbarXBottom=scrollbarYHeight=scrollbarYTop=scrollbarYRight=null};var y=function(c){$this.addClass('ie').addClass('ie'+c);var d=function(){var a=function(){$(this).addClass('hover')};var b=function(){$(this).removeClass('hover')};$this.bind('mouseenter.perfect-scrollbar',a).bind('mouseleave.perfect-scrollbar',b);j.bind('mouseenter.perfect-scrollbar',a).bind('mouseleave.perfect-scrollbar',b);$scrollbarYRail.bind('mouseenter.perfect-scrollbar',a).bind('mouseleave.perfect-scrollbar',b);$scrollbarX.bind('mouseenter.perfect-scrollbar',a).bind('mouseleave.perfect-scrollbar',b);$scrollbarY.bind('mouseenter.perfect-scrollbar',a).bind('mouseleave.perfect-scrollbar',b)};var e=function(){n=function(){$scrollbarX.css({left:scrollbarXLeft+$this.scrollLeft(),bottom:scrollbarXBottom,width:scrollbarXWidth});$scrollbarY.css({top:scrollbarYTop+$this.scrollTop(),right:scrollbarYRight,height:scrollbarYHeight});$scrollbarX.hide().show();$scrollbarY.hide().show()};k=function(){var a=parseInt(scrollbarYTop*contentHeight/containerHeight,10);$this.scrollTop(a);$scrollbarX.css({bottom:scrollbarXBottom});$scrollbarX.hide().show()};l=function(){var a=parseInt(scrollbarXLeft*contentWidth/containerWidth,10);$this.scrollLeft(a);$scrollbarY.hide().show()}};if(c===6){d();e()}};var z=(('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch);var A=function(){var a=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);if(a&&a[1]==='msie'){y(parseInt(a[2],10))}o();r();s();v();if(z){w()}if($this.mousewheel){t()}if(i.useKeyboard){u()}$this.data('perfect-scrollbar',$this);$this.data('perfect-scrollbar-update',o);$this.data('perfect-scrollbar-destroy',x)};A();return $this})}}));