;(function($,f){var g,ls;if('localStorage'in window){try{ls=(typeof window.localStorage==='undefined')?f:window.localStorage;if(typeof ls=='undefined'||typeof window.JSON=='undefined'){g=false}else{g=true}}catch(err){g=false}}$.totalStorage=function(a,b,c){return $.totalStorage.impl.init(a,b)};$.totalStorage.setItem=function(a,b){return $.totalStorage.impl.setItem(a,b)};$.totalStorage.getItem=function(a){return $.totalStorage.impl.getItem(a)};$.totalStorage.getAll=function(){return $.totalStorage.impl.getAll()};$.totalStorage.deleteItem=function(a){return $.totalStorage.impl.deleteItem(a)};$.totalStorage.removeAll=function(){return $.totalStorage.impl.removeAll()};$.totalStorage.impl={init:function(a,b){if(typeof b!='undefined'){return this.setItem(a,b)}else{return this.getItem(a)}},setItem:function(a,b){if(!g){try{$.cookie(a,b);return b}catch(e){console.log('Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality. You can get it at https://github.com/carhartl/jquery-cookie')}}var c=JSON.stringify(b);ls.setItem(a,c);return this.parseResult(c)},getItem:function(a){if(!g){try{return this.parseResult($.cookie(a))}catch(e){return null}}var b=ls.getItem(a);return this.parseResult(b)},deleteItem:function(a){if(!g){try{$.cookie(a,null);return true}catch(e){return false}}ls.removeItem(a);return true},getAll:function(){var a=[];if(!g){try{var b=document.cookie.split(";");for(var i=0;i<b.length;i++){var c=b[i].split('=');var d=c[0];a.push({key:d,value:this.parseResult($.cookie(d))})}}catch(e){return null}}else{for(var j in ls){if(j.length){a.push({key:j,value:this.parseResult(ls.getItem(j))})}}}return a},removeAll:function(){if(!g){try{var a=document.cookie.split(";");for(var i=0;i<a.length;i++){var b=a[i].split('=');var c=b[0];$.cookie(c,null)}}catch(e){return null}}else{ls.clear()}},parseResult:function(a){var b;try{b=JSON.parse(a);if(typeof b=='undefined'){b=a}if(b=='true'){b=true}if(b=='false'){b=false}if(parseFloat(b)==b&&typeof b!="object"){b=parseFloat(b)}}catch(e){b=a}return b}}})(jQuery);
